<% var inputName = 'input_' + guid.newId(); %>
<div class="form-horizontal">
    <div class="form-group" ng-class="{'has-error':form['<%= inputName %>'].$invalid,'has-success':form['<%= inputName%>'].$valid}">
        <label class="col-sm-2 control-label"><%= config.label %></label>

        <div class="col-sm-10">
            <input type="text" class="form-control" name="<%= inputName%>" ng-model="<%= 'vm.' + config.modelName%>"
                    <% if(config.required) { %>
                        ng-required="true"
                    <% } %>
                    <% if(type.pattern) { %>
                        ng-pattern="<%= type.pattern %>"
                    <% } %>
            />
            <!--change to error directive-->
            <% if(config.required) { %>
             <span class="help-block" ng-show="form['<%= inputName %>'].$error.required"><%= config.label %> required.</span>
            <% } %>
            <% if(type.pattern) { %>
            <span class="help-block"
                  ng-show="form['<%= inputName  %>'].$error.pattern"><%= config.label %> is invalid.</span>
            <% } %>
        </div>
    </div>
</div>