<% var inputName = 'input_' + guid.newId(),
    formName = 'from4' + inputName;
%>
<div ng-form="<%= formName %>" class="form-horizontal">
    <div class="form-group" ng-class="{'has-error':<%= formName %>['<%= inputName %>'].$invalid,'has-success':<%= formName %>['<%= inputName%>'].$valid}">
        <label class="col-sm-2 control-label"><%= config.label %></label>

        <div class="col-sm-10">
            <input type="text" class="form-control" name="<%= inputName%>" ng-model="<%= 'vm.' + config.modelName%>"
                    <% if(config.required) { %>
                        ng-required="true"
                    <% } %>
                    <% if(config.pattern) { %>
                        ng-pattern="<%= config.pattern %>"
                    <% } %>
            />
            <!--change to error directive-->
            <% if(config.required) { %>
             <span class="help-block" ng-show="<%= formName %>['<%= inputName %>'].$error.required"><%= config.label %> required.</span>
            <% } %>
            <% if(config.pattern) { %>
            <span class="help-block"
                  ng-show="<%= formName %>['<%= inputName  %>'].$error.pattern"><%= config.label %> is invalid.</span>
            <% } %>
        </div>
    </div>
</div>